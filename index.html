<!DOCTYPE html>
<html>
<head>
  <title>Color-Coded Connections by Category</title>
  <style>
    .timeline {
      display: flex;
      justify-content: space-between;
      margin: 50px 0;
    }
    .timeline-column {
      width: 32%;
      padding: 20px;
      box-sizing: border-box;
    }
/* General timeline item styling */
.timeline-item {
  margin-bottom: 20px;
  background: linear-gradient(to right, rgba(0, 0, 0, 0.05), white); /* Subtle gradient */
  border-left: 6px solid transparent; /* Placeholder border for color */
  border-radius: 8px;
  cursor: pointer;
  text-align: center;
  padding: 12px;
  transition: all 0.3s ease;
  box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1); /* Light shadow for depth */
}

/* Hover effect */
.timeline-item:hover {
  transform: translateY(-2px);
  box-shadow: 3px 3px 12px rgba(0, 0, 0, 0.15);
}

/* Category-based color styling */
.timeline-item[data-category="Cultural Artifacts"] {
  border-left-color: purple;
  background: linear-gradient(to right, rgba(128, 0, 128, 0.15), white);
}

.timeline-item[data-category="Conceptual & Scientific Breakthroughs"] {
  border-left-color: red;
  background: linear-gradient(to right, rgba(255, 0, 0, 0.15), white);
}

.timeline-item[data-category="Engineering Experiments & Demonstrations"] {
  border-left-color: blue;
  background: linear-gradient(to right, rgba(0, 0, 255, 0.15), white);
}
.connections a {
  display: inline-block;
  background-color: #ddd; /* Light gray background */
  color: black; /* Default text color */
  padding: 5px 10px;
  margin: 4px 3px;
  border-radius: 12px; /* Rounded corners for hashtag look */
  font-size: 0.85em;
  cursor: pointer;
  text-decoration: none; /* No underline */
  transition: all 0.3s ease;
}

.connections a:hover {
  background-color: #bbb; /* Darker gray on hover */
}
    .popup {
      display: none; /* hidden by default */
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%,-50%);
      background: #fff;
      padding: 20px;
      border-radius: 4px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      max-width: 400px;
      width: 90%;
      z-index: 999;
    }
    .popup-close {
      position: absolute;
      top: 5px;
      right: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1>Aviation Timeline with Color-Coded Connections</h1>

<div class="timeline">
  <!-- JS will create columns here -->
</div>

<!-- Popup for showing details -->
<div class="popup">
  <span class="popup-close">&times;</span>
  <div id="popup-content"></div>
</div>

<script>
const timelineItems = [
  {
    date: '100s BCE',
    location: 'China',
    title: 'Paper',
    description: 'Paper is invented in China and then spreads to the Arabic world in the 700s BC, then to Medieval Europe. A key material innovation that aided future flight experiments. The lightweight material was later used in hot air lanterns in China. Even later, Leonardo da Vinci and George Cayley used paper and other lightweight materials to create models and test their theories of flight ',
    img: "/api/placeholder/100/100",
    people: ['Mozi', 'Lu Ban'],
    category: 'Conceptual & Scientific Breakthroughs',
    row: 1,
    connections: ['Early Kites', 'Kongming\'s Sky Lantern', 'Leonardo da Vinci\'s Flying Machines']
  },
  {
    date: '500s BCE',
    location: 'China',
    title: 'Early Kites',
    description: 'Kites are invented in China, an early form of human flight.',
    img: "/api/placeholder/100/100",
    people: ['Mozi', 'Lu Ban'],
    category: 'Engineering Experiments & Demonstrations',
    row: 1,
    connections: ['Paper']
  },
      {
        date: '500s BCE',
        location: 'India',
        title: 'The Pushpaka Vimana',
        description: 'A mythical self-moving aerial vehicle described in the Ramayana epic; one of the earliest stories featuring a ‘flying machine.’',
        img: "/api/placeholder/100/100",
        people: ['The Pushpaka Vimana'],
        category: 'Cultural Artifacts',
        row: 1,
        connections: ['Abbas Ibn Firnas\'s jump', 'Eilmer of Malmesbury\'s jump', 'João Torto\'s Failed Flight Attempt' ]
      },
    {
        date: '500s BCE',
        location: 'Greece',
        title: 'The Myth of Icarus and Daedalus',
        description: 'This myth, often depicted in classical art and referenced by poets and playwrights, is one of the earliest and most enduring symbols of humanity’s flight aspirations—and of hubris. It reminds us that the dream of flying dates back to antiquity and has long carried both awe and cautionary overtones.',
        img: "/api/placeholder/100/100",
        people: ['The Myth of Icarus and Daedalus'],
        category: 'Cultural Artifacts',
        row: 1,
        connections: ['Abbas Ibn Firnas\'s jump', 'Eilmer of Malmesbury\'s jump', 'João Torto\'s Failed Flight Attempt' ]
      },
  {
        date: '400s BCE',
        location: 'Tarentum, Italy',
        title: 'Archytas\' Flying Pigeon',
        description: 'Archytas of Tarentum creates a wooden pigeon that could "fly" using a jet of air.',
        img: "/api/placeholder/100/100",
        people: ['Archytas of Tarentum'],
        category: 'Engineering Experiments & Demonstrations',
        row: 1,
        connections: [] // No connections here.
      },
      {
        date: '200s BCE',
        location: 'Syracuse, Sicily',
        title: 'Archimedes\' Buoyancy Principle',
        description: 'Archimedes discovers the principles of buoyancy, which later influence theories of flight.',
        img: "/api/placeholder/100/100",
        people: ['Archimedes'],
        category: 'Conceptual & Scientific Breakthroughs',
        row: 1,
        connections: ['Roger Bacon\'s Air Support Theory', 'Robert Hooke\'s Airflow']
      },
   {
        date: '200s BCE',
        location: 'China',
        title: 'Kongming\'s Sky Lantern',
        description: 'Kongming invents the sky lantern, the first hot air balloon. From its military use, it became known as the Kongming lantern.',
        img: "/api/placeholder/100/100",
        people: ['Kongming'],
        category: 'Engineering Experiments & Demonstrations',
        row: 1,
     connections: ['Early Kites', 'Paper']
      },
    {
    date: '100s CE',
    location: 'Alexandria, Egypt',
    title: 'Hero\'s Aeolipile',
    description: 'Hero of Alexandria designs the aeolipile, a simple steam turbine. While not used for flight, it demonstrated the potential of steam power.',
    img: "/api/placeholder/100/100",
    people: ['Hero of Alexandria'],
    category: 'Engineering Experiments & Demonstrations',
    row: 1,
      connections: ['Archytas\' Flying Pigeon']
  },
      {
        date: '800s',
        location: 'Spain',
        title: 'Abbas Ibn Firnas\'s jump',
        description: 'Abbas Ibn Firnas jumps from a tower wearing a cloak stiffened with wooden struts. He survives but is injured—an early documented instance of someone attempting to break their fall using (crude) aerodynamic principles.',
        img: "/api/placeholder/100/100",
        people: ['Abbas Ibn Firnas'],
        category: 'Engineering Experiments & Demonstrations',
        row: 2,
        connections: ['The Myth of Icarus and Daedalus', 'Eilmer of Malmesbury\'s jump', 'João Torto\'s Failed Flight Attempt']
      },
        {
        date: '800s',
        location: 'Middle East and India',
        title: 'The Ebony Horse Tale',
        description: 'One of the tales from One Thousand and One Night. An inventor presents a magical mechanical horse to a Persian king; the horse can fly its rider into the sky.',
        img: "/api/placeholder/100/100",
        people: ['The Ebony Horse'],
        category: 'Cultural Artifacts',
        row: 2,
        connections: [] // No connections here.
      },
  {
        date: '1000s',
        location: 'England',
        title: 'Eilmer of Malmesbury\'s jump',
        description: 'A Benedictine monk who tries to fly with a glider-like apparatus. He may have glided a short distance from a tower before crashing. Despite the failure, he allegedly recognized that a tail or tailplane might have provided stability.',
        img: "/api/placeholder/100/100",
        people: ['Eilmer of Malmesbury'],
        category: 'Engineering Experiments & Demonstrations',
        row: 2,
        connections: ['The Myth of Icarus and Daedalus', 'Abbas Ibn Firnas\'s jump', 'João Torto\'s Failed Flight Attempt']
      },
      {
        date: '1290s',
        location: 'England',
        title: 'Roger Bacon\'s Air Support Theory',
        description: 'Roger Bacon theorizes that air can support objects like water supports boats.',
        img: "/api/placeholder/100/100",
        people: ['Roger Bacon'],
        category: 'Conceptual & Scientific Breakthroughs',
        row: 2,
        connections: ['Archimedes\' Buoyancy Principle', 'Robert Hooke\'s Airflow']
      },
      {
        date: '1480s',
        location: 'Italy',
        title: 'Leonardo da Vinci\'s Flying Machines',
        description: "Leonardo da Vinci sketches various flying machines, including an ornithopter and a precursor to the helicopter.",
        img: "/api/placeholder/100/100",
        people: ['Leonardo da Vinci'],
        category: 'Cultural Artifacts',
        row: 2,
        connections: ['Paper'] // No connections here.
      },
      {
        date: '1540s',
        location: 'Portugal',
        title: 'João Torto\'s Failed Flight Attempt',
        description: 'João Torto, a Portuguese barber, attempts human flight with fabric wings but falls to his death.',
        img: "/api/placeholder/100/100",
        people: ['João Torto'],
        category: 'Engineering Experiments & Demonstrations',
        row: 2,
        connections: ['The Myth of Icarus and Daedalus', 'Abbas Ibn Firnas\'s jump', 'Eilmer of Malmesbury\'s jump', 'João Torto\'s Failed Flight Attempt']
      },
    {
        date: '1634',
        location: 'Holy Roman Empire',
        title: 'Kepler\'s Somnium',
        description: 'One of the first “proto–science fiction” works. A fictional narrative describing a journey to the Moon, introducing early ideas on celestial mechanics. A text showing flight/space travel in a quasi-scientific way.',
        img: "/api/placeholder/100/100",
        people: ['Johannes Kepler'],
        category: 'Cultural Artifacts',
        row: 2,
        connections: [] // No connections here.
      },
      {
        date: '1638',
        location: 'England',
        title: 'Francis Godwin\'s The Man in the Moone',
        description: 'One of the first “proto–science fiction” works. A utopian story describing lunar travel using large, trained birds; an early example of flight-themed fiction and speculation.',
        img: "/api/placeholder/100/100",
        people: ['Francis Godwin'],
        category: 'Cultural Artifacts',
        row: 2,
        connections: [] // No connections here.
      },
  {
        date: '1657',
        location: 'France',
        title: 'Cyrano de Bergerac\'s Comical History of the States and Empires of the Moon',
        description: 'One of the first “proto–science fiction” works. Although comedic, it proposed mechanical means of leaving Earth, bridging mythic flight and more scientifically grounded speculation.',
        img: "/api/placeholder/100/100",
        people: ['Cyrano de Bergerac'],
        category: 'Cultural Artifacts',
        row: 2,
        connections: [] // No connections here.
      },
        {
        date: '1659',
        location: 'England',
        title: 'Robert Hooke\'s Airflow',
        description: 'Robert Hooke investigates concepts of drag and airflow, contributing to the body of knowledge that would eventually be applied to flight.',
        img: "/api/placeholder/100/100",
        people: ['Robert Hooke'],
        category: 'Conceptual & Scientific Breakthroughs',
        row: 2,
        connections: ['Archimedes\' Buoyancy Principle', 'Roger Bacon\'s Air Support Theory'] // No connections here.
      },
      {
        date: '1687',
        location: 'England',
        title: 'Newton\'s Laws of Motion',
        description: 'Lays out the three laws of motion and universal gravitation, essential to understanding how and why aircraft can generate lift and react to forces in flight.',
        img: "/api/placeholder/100/100",
        people: ['Isaac Newton'],
        category: 'Conceptual & Scientific Breakthroughs',
        row: 2,
        connections: [] // No connections here.
      },
      {
        date: '1709',
        location: 'Portugal',
        title: 'Bartolomeu de Gusmão\'s Passarola',
        description: 'Bartolomeu de Gusmão, a Brazilian-Portuguese priest, demonstrates a hot air balloon prototype called the "Passarola."',
        img: "/api/placeholder/100/100",
        people: ['Bartolomeu de Gusmão'],
        category: 'Engineering Experiments & Demonstrations',
        row: 3,
        connections: ['Kongming\'s Sky Lantern','Archimedes\' Buoyancy Principle']
      },
        {
        date: '1726',
        location: 'England',
        title: 'Jonathan Swift\'s Flying Island of Laputa',
        description: 'Though satire, Laputa symbolizes the human longing to master flight and the sky—exaggerated to the point of political power (the island hovers over other lands). It predates real scientific progress but demonstrates how flight was becoming embedded in broader cultural and sociopolitical thought.',
        img: "/api/placeholder/100/100",
        people: ['Jonathan Swift'],
        category: 'Cultural Artifacts',
        row: 3,
        connections: [] // No connections here.
      },
      {
        date: '1738',
        location: 'Switzerland/Netherlands',
        title: 'Daniel Bernoulli\'s Hydrodynamica',
        description: 'Describes how pressure in a moving fluid decreases as velocity increases; foundational for many aerodynamic analyses of wing lift.',
        img: "/api/placeholder/100/100",
        people: ['Daniel Bernoulli'],
        category: 'Conceptual & Scientific Breakthroughs',
        row: 3,
        connections: [] // No connections here.
      },
      {
        date: '1783',
        location: 'France',
        title: 'Montgolfier Brothers\' Hot Air Balloon',
        description: 'Jean-François Pilâtre de Rozier and François Laurent d\'Arlandes make the first manned flight in a hot air balloon built by the Montgolfier brothers.',
        img: "/api/placeholder/100/100",
        people: ['Jean-François Pilâtre de Rozier', 'François Laurent d\'Arlandes', 'Joseph-Michel Montgolfier', 'Jacques-Étienne Montgolfier'],
        row: 4,
        category: 'Engineering Experiments & Demonstrations',
        connections: [] // No connections here.
      },
      {
  date: '1799',
  location: 'England',
  title: "George Cayley's Glider Design",
  description: "George Cayley designs the first modern glider with distinct lift, thrust, and control components.",
  img: "/api/placeholder/100/100",
  people: ['George Cayley'],
  row: 4,
  connections: [],
  category: "Conceptual & Scientific Breakthroughs"
},
{
  date: '1852',
  location: 'France',
  title: "Henri Giffard's Dirigible",
  description: "Henri Giffard invents the first controllable dirigible, powered by a steam engine.",
  img: "/api/placeholder/100/100",
  people: ['Henri Giffard'],
  row: 5,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1843',
  location: 'England',
  title: "William Henson's Aircraft Design",
  description: "William Henson patents an early aircraft design with fixed wings and a steam-powered engine.",
  img: "/api/placeholder/100/100",
  people: ['William Henson'],
  row: 6,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1853',
  location: 'England',
  title: "George Cayley's Manned Glider Flight",
  description: "George Cayley successfully flies the first manned glider. Developed principles of lift, drag, and fixed-wing aircraft.",
  img: "/api/placeholder/100/100",
  people: ['George Cayley'],
  row: 7,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1865-1904',
  location: 'England',
  title: "Jules Verne's Novels",
  description: "Verne’s meticulous detail and semi-scientific style enthralled readers. He envisioned airships and cannon-propelled moonshots, inspiring generations of inventors to consider powered flight and eventual space travel.",
  img: "/api/placeholder/100/100",
  people: ['Jules Verne'],
  row: 7,
  connections: [],
  category: "Cultural Artifacts"
},
{
  date: '1871',
  location: 'England',
  title: "Francis Wenham's Wind Tunnel",
  description: "Francis Wenham builds the first wind tunnel to study aerodynamics. Proved that long, narrow wings generate more lift.",
  img: "/api/placeholder/100/100",
  people: ['Francis Wenham'],
  row: 7,
  connections: [],
  category: "Conceptual & Scientific Breakthroughs"
},
{
  date: '1884',
  location: 'France',
  title: "Charles Renard and Arthur Constantin's Le France",
  description: "Charles Renard and Arthur Constantin Krebs launch a non-rigid airship that inspires Zeppelin.",
  img: "/api/placeholder/100/100",
  people: ['Charles Renard', 'Arthur Constantin Krebs'],
  row: 7,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1891',
  location: 'Germany',
  title: "Otto Lilienthal's Glider Flights",
  description: "Otto Lilienthal achieves controlled glider flights and documents aerodynamic research, proving human flight was possible.",
  img: "/api/placeholder/100/100",
  people: ['Otto Lilienthal'],
  row: 7,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1896',
  location: 'United States',
  title: "Octave Chanute's Biplane Glider",
  description: "Octave Chanute advances glider designs and builds a successful biplane glider, improving aviation theories.",
  img: "/api/placeholder/100/100",
  people: ['Octave Chanute'],
  row: 7,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1890',
  location: 'France',
  title: "Clément Ader's Éole",
  description: "Clément Ader builds the Éole, a bat-like steam-powered aircraft, which briefly lifts off but lacks control.",
  img: "/api/placeholder/100/100",
  people: ['Clément Ader'],
  row: 8,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1894',
  location: 'United States/United Kingdom',
  title: "Hiram Maxim's Steam-Powered Biplane",
  description: "Hiram Maxim builds and tests a massive steam-powered biplane but fails to achieve sustained flight.",
  img: "/api/placeholder/100/100",
  people: ['Hiram Maxim'],
  row: 8,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1896',
  location: 'United States',
  title: "Samuel Pierpont Langley's Aerodrome",
  description: "Samuel Pierpont Langley flies small, unmanned models successfully. Built the Aerodrome A, which failed at full scale.",
  img: "/api/placeholder/100/100",
  people: ['Samuel Pierpont Langley'],
  row: 8,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1899',
  location: 'United Kingdom',
  title: "Percy Pilcher's Powered Aircraft Design",
  description: "Percy Pilcher designs a powered aircraft but dies in a glider accident before testing it.",
  img: "/api/placeholder/100/100",
  people: ['Percy Pilcher'],
  row: 9,
  connections: [],
  category: "Conceptual & Scientific Breakthroughs"
},
{
  date: '1900',
  location: 'Germany',
  title: "Ferdinand von Zeppelin's Rigid Airships",
  description: "Ferdinand von Zeppelin develops rigid airships, leading to widespread use of zeppelins.",
  img: "/api/placeholder/100/100",
  people: ['Ferdinand von Zeppelin'],
  row: 9,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1901',
  location: 'United States',
  title: "Gustave Whitehead's Reported Flight",
  description: "Gustave Whitehead reportedly flies in Connecticut, though documentation remains debated.",
  img: "/api/placeholder/100/100",
  people: ['Gustave Whitehead'],
  row: 9,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1902',
  location: 'France',
  title: "Georges Méliès's A Trip to the Moon",
  description: "Georges Méliès creates the iconic silent film, launching a bullet-shaped rocket to the Moon in a whimsical scenario.",
  img: "/api/placeholder/100/100",
  people: ['Georges Méliès'],
  row: 9,
  connections: [],
  category: "Cultural Artifacts"
},
{
  date: '1902',
  location: 'New Zealand',
  title: "Richard Pearse's Monoplane",
  description: "Richard Pearse builds a monoplane and makes brief, uncontrolled flights.",
  img: "/api/placeholder/100/100",
  people: ['Richard Pearse'],
  row: 9,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1903',
  location: 'Germany',
  title: "Karl Jatho's Powered Aircraft",
  description: "Karl Jatho builds an unstable monoplane that flies briefly but lacks thorough documentation.",
  img: "/api/placeholder/100/100",
  people: ['Karl Jatho'],
  row: 9,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
  {
  date: '1903',
  location: 'Scotland',
  title: "Preston Watson's Alleged Flight",
  description: "Preston Watson allegedly flies, though no strong evidence exists.",
  img: "/api/placeholder/100/100",
  people: ['Preston Watson'],
  row: 9,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1904',
  location: 'Germany',
  title: "Ludwig Prandtl’s Boundary-Layer Theory",
  description: "Prandtl’s insight that a thin layer of fluid near a surface governs most aerodynamic drag/energy loss was a milestone in modern fluid mechanics and airplane design.",
  img: "/api/placeholder/100/100",
  people: ['Ludwig Prandtl'],
  row: 9,
  connections: [],
  category: "Conceptual & Scientific Breakthroughs"
},
{
  date: '1906',
  location: 'Brazil/France',
  title: "Alberto Santos-Dumont's 14-bis Flight",
  description: "Alberto Santos-Dumont flies the 14-bis in Paris—the first powered airplane flight recognized by the Aéro-Club de France.",
  img: "/api/placeholder/100/100",
  people: ['Alberto Santos-Dumont'],
  row: 10,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1906',
  location: 'Germany/Russia',
  title: "Martin Wilhelm Kutta & Nikolai Zhukovsky’s Lift Theorem",
  description: "Established the relationship between circulation around an airfoil and the lift force—crucial for calculating wing performance in aircraft.",
  img: "/api/placeholder/100/100",
  people: ['Martin Wilhelm Kutta', 'Nikolai Zhukovsky'],
  row: 9,
  connections: [],
  category: "Conceptual & Scientific Breakthroughs"
},
{
  date: '1907',
  location: 'Romania',
  title: "Traian Vuia's Monoplane",
  description: "Traian Vuia designs a monoplane with wheels that takes off unaided but flies only short distances.",
  img: "/api/placeholder/100/100",
  people: ['Traian Vuia'],
  row: 10,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1908',
  location: 'France',
  title: "Aída de Acosta Pilots Santos-Dumont's Dirigible",
  description: "Aída de Acosta becomes the first woman to pilot an aircraft: Santos-Dumont's dirigible No. 9.",
  img: "/api/placeholder/100/100",
  people: ['Aída de Acosta', 'Alberto Santos-Dumont'],
  row: 10,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1908',
  location: 'England',
  title: "H.G. Wells's The War in the Air",
  description: "H.G. Wells's novel envisions how airplanes could revolutionize warfare, foreshadowing aerial battles of WWI.",
  img: "/api/placeholder/100/100",
  people: ['H.G. Wells', 'Alberto Santos-Dumont'],
  row: 10,
  connections: [],
  category: "Cultural Artifacts"
},
{
  date: '1908',
  location: 'United Kingdom',
  title: "John William Dunne's warplanes",
  description: "Develops tailless aircraft designs with military applications.",
  img: "/api/placeholder/100/100",
  people: ['John William Dunne'],
  row: 11,
  connections: [],
  category: "Conceptual & Scientific Breakthroughs"
},
{
  date: '1909',
  location: 'France/England',
  title: 'Louis Blériot Crosses the English Channel',
  description: "Louis Blériot's successful Channel crossing proves the airplane's viability for transportation.",
  img: "/api/placeholder/100/100",
  people: ['Louis Blériot'],
  row: 11,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1910',
  location: 'Brazil',
  title: "Dimitri Sensaud de Lavaud's Flight in Latin America",
  description: "Dimitri Sensaud de Lavaud completes the first powered flight in Latin America.",
  img: "/api/placeholder/100/100",
  people: ['Dimitri Sensaud de Lavaud'],
  row: 11,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1910',
  location: 'France',
  title: "Henri Fabre's Seaplane Flight",
  description: "Henri Fabre achieves the first successful seaplane flight.",
  img: "/api/placeholder/100/100",
  people: ['Henri Fabre'],
  row: 12,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1911',
  location: 'United States',
  title: "Calbraith Perry Rodgers' Transcontinental Flight",
  description: "Calbraith Perry Rodgers completes the first transcontinental flight across the United States.",
  img: "/api/placeholder/100/100",
  people: ['Calbraith Perry Rodgers'],
  row: 12,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1918',
  location: 'France',
  title: "Henry Farman's Aircraft in World War I",
  description: "Henry Farman develops aircraft used in World War I, advancing military aviation.",
  img: "/api/placeholder/100/100",
  people: ['Henry Farman'],
  row: 12,
  connections: [],
  category: "Conceptual & Scientific Breakthroughs"
},
{
  date: '1910',
  location: 'Romania',
  title: "Henri Coandă's Coandă-1910",
  description: "Henri Coandă builds the Coandă-1910, possibly the first jet-propelled aircraft.",
  img: "/api/placeholder/100/100",
  people: ['Henri Coandă'],
  row: 13,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1914',
  location: 'United States',
  title: 'First Commercial Airline',
  description: "The St. Petersburg-Tampa Airboat Line starts commercial flights, pioneering airline service.",
  img: "/api/placeholder/100/100",
  people: ['Thomas Benoist', 'Percival Fansler'],
  row: 13,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1928',
  location: 'Germany',
  title: 'The Graf Zeppelin',
  description: "The LZ 127 Graf Zeppelin, a large passenger-carrying rigid airship, enters commercial service and demonstrates long-distance travel potential.",
  img: "/api/placeholder/100/100",
  people: ['Ferdinand von Zeppelin'],
  row: 14,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1947',
  location: 'United States',
  title: 'Breaking the Sound Barrier',
  description: "Chuck Yeager pilots the Bell X-1 to become the first to break the sound barrier in level flight.",
  img: "/api/placeholder/100/100",
  people: ['Chuck Yeager'],
  row: 14,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
},
{
  date: '1969',
  location: 'United States',
  title: 'First Moon Landing',
  description: "Neil Armstrong and Buzz Aldrin land on the Moon in Apollo 11, achieving a milestone in human space exploration.",
  img: "/api/placeholder/100/100",
  people: ['Neil Armstrong', 'Buzz Aldrin'],
  row: 15,
  connections: [],
  category: "Engineering Experiments & Demonstrations"
}

    ];
    // ============ MAIN SCRIPT LOGIC ===================

    // 1) Define the categories you want as columns.
    const categories = [
      'Cultural Artifacts',
      'Conceptual & Scientific Breakthroughs',
      'Engineering Experiments & Demonstrations'
    ];
  const categoryColors = {
  "Cultural Artifacts": "purple",
  "Conceptual & Scientific Breakthroughs": "red",
  "Engineering Experiments & Demonstrations": "blue"
};

// 4) Setup the timeline columns
const timelineContainer = document.querySelector('.timeline');

categories.forEach(cat => {
  const colDiv = document.createElement('div');
  colDiv.classList.add('timeline-column');
  colDiv.setAttribute('data-category', cat);

  // optional heading
  const heading = document.createElement('h2');
  heading.textContent = cat;
  colDiv.appendChild(heading);

  timelineContainer.appendChild(colDiv);
});

// 5) Sort items by row
timelineItems.sort((a, b) => a.row - b.row);

// 6) Render each item
timelineItems.forEach(item => {
  const itemId = item.title.replace(/\s+/g, '-').replace(/[^\w-]/g, '');
  item._domId = itemId;

  const timelineItem = document.createElement('div');
  timelineItem.classList.add('timeline-item');
  timelineItem.id = itemId;
  timelineItem.setAttribute('data-category', item.category); 

  timelineItem.innerHTML = `
    <h3>${item.date}</h3>
    <p>${item.title}</p>
  `;

  // Show popup on click
  timelineItem.addEventListener('click', () => {
    showPopup(item);
    highlightActiveItem(timelineItem);
  });

  // If this item has connections, build them
  if (item.connections && item.connections.length > 0) {
    const refsDiv = document.createElement('div');
    refsDiv.classList.add('connections');
    refsDiv.innerHTML = `<span>Connections:</span> `;

    item.connections.forEach(ref => {
      const refLink = document.createElement('a');
      refLink.textContent = `#${ref}`;
      refLink.dataset.targetTitle = ref;

      // Find the connected item in the array
      const targetItem = timelineItems.find(i => i.title === ref);
      if (targetItem) {
        // Apply color based on the connected item’s category
        refLink.style.backgroundColor = categoryColors[targetItem.category] || '#ddd';
        refLink.style.color = 'white';

        // On click, show the connected item’s popup
        refLink.addEventListener('click', (e) => {
          e.stopPropagation();
          e.preventDefault();
          showPopup(targetItem);

          const targetElem = document.getElementById(targetItem._domId);
          if (targetElem) {
            highlightActiveItem(targetElem);
            targetElem.scrollIntoView({ behavior: 'smooth' });
          }
        });
      }
      refsDiv.appendChild(refLink);
    });

    timelineItem.appendChild(refsDiv);
  }

  // Finally, place in correct column
  const colSelector = `.timeline-column[data-category="${item.category}"]`;
  const colDiv = document.querySelector(colSelector);
  if (colDiv) {
    colDiv.appendChild(timelineItem);
  }

  item._domElement = timelineItem;
});

// 7) Popup logic
// Select popup elements
const popup = document.querySelector('.popup');
const popupContent = document.getElementById('popup-content');
const popupClose = document.querySelector('.popup-close');

// Function to show popup
function showPopup(item) {
  popupContent.innerHTML = `
    <h3>${item.title}</h3>
    <p><strong>Date:</strong> ${item.date}</p>
    <p><strong>Description:</strong> ${item.description}</p>
    <img src="${item.img}" alt="${item.title}" style="max-width:100%; margin: 10px 0;">
    <p><strong>Location:</strong> ${item.location}</p>
    <p><strong>Key people:</strong></p>
    <ul>
      ${item.people.map(p => `<li>${p}</li>`).join('')}
    </ul>
  `;
  popup.style.display = 'block';
}

popupClose.addEventListener('click', (e) => {
  e.stopPropagation(); // Prevent click from bubbling up
  popup.style.display = 'none';
});

document.addEventListener('click', (e) => {
  if (!popup.contains(e.target) && !e.target.closest('.timeline-item')) {
    popup.style.display = 'none';
  }
});

popup.addEventListener('click', (e) => {
  e.stopPropagation();
});

// Highlight the active timeline item
function highlightActiveItem(elem) {
  const prevActive = document.querySelector('.timeline-item.active');
  if (prevActive) {
    prevActive.classList.remove('active');
  }
  elem.classList.add('active');
}
</script>
</body>
</html>
